webpackJsonp([1],{"0P89":function(e,t){},"6Pgm":function(e,t){},"9D3S":function(e,t){},BIoD:function(e,t){},D3yz:function(e,t,i){e.exports=i.p+"static/img/prompt.2ba1e14.png"},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=i("VU/8")({name:"App"},s,!1,function(e){i("y3VO")},"data-v-069ad94a",null).exports,a=i("/ocq"),r=i("Dd8w"),c=i.n(r),l=(i("j1ja"),i("NYxO")),d={data:function(){return{notice:"",master:[],members:[],messages:[],selfMessage:"",isReload:!1,isShowFull:!1,showFont:[{code:"",isShow:!0},{code:"",isShow:!0},{code:"",isShow:!0}],mySelfRenderVideoIndex:"",openPrivateChat:!1,soundModel:"静 音",showShareVideo:!1,loginCode:"",roomCode:"",roomMembers:{},myRole:0}},mixins:[{data:function(){return{E_IM_CustomCmd:{AVIMCMD_None:"0",AVIMCMD_EnterLive:"1",AVIMCMD_ExitLive:"2",AVIMCMD_Multi:"2048",AVIMCMD_Multi_Host_Invite:"2049",AVIMCMD_Multi_CancelInteract:"2050",AVIMCMD_Multi_Interact_Join:"2051",AVIMCMD_Multi_Interact_Refuse:"2052",AVIMCMD_Multi_Interact_Apply:"2053",AVIMCMD_Multi_Interact_Agree:"2054"}}},methods:{toggleVideoWidth:function(){var e=this,t=this.showShareVideo?this.$refs.shareVideoContainer:this.$refs.videoContainer;this.isShowFull=!this.isShowFull,this.isShowFull?this.requestFullScreen(t):this.exitFullscreen(t),this.isShowFull&&(window.onkeydown=function(i){27==i.keyCode&&(e.isShowFull=!1,e.exitFullscreen(t))})},requestFullScreen:function(e){e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.width="100%",e.style.zIndex="20"},exitFullscreen:function(e){window.onkeydown=null,e.style.position="relative",e.style.left="0",e.style.top="0",e.style.height="calc(100% - 10px);",e.style.width="100%",e.style.zIndex="0"},CreateLiveUser:function(){var e=this;this.$ajax.post("/live/CreateLiveUser").then(function(t){t.data.errorCode||e.sdkInit(t.data.data)})},GetUserInfo:function(e,t){var i=this;this.$ajax.post("/live/GetUserInfo",{code:e}).then(function(n){i.roomMembers[e]=n.data.data,t(n.data.data)})},getRoomCode:function(){var e=this;this.$ajax.post("/live/GetRoomList").then(function(t){if(0==t.data.errorCode){var i=t.data.data.rooms[0]?t.data.data.rooms[0].info.roomnum:"";e.roomCode=i,e.ReportMemId(i),console.log("登陆请求成功开始sdk登陆"),e.sdk.login(e.loginCode,e.userSig,e.loginSuccess,e.loginError)}})},ReportMemId:function(e){var t=this,i={roomnum:e,role:0,operate:0};this.$ajax.post("/live/ReportMemId",i).then(function(i){0==i.data.errorCode&&(t.GetRoomMember(e),setInterval(function(){t.GetRoomMember(e),t.heartbeat(e)},3e3))})},GetRoomMember:function(e){var t=this;this.$ajax.post("/live/GetRoomMember",{roomnum:e}).then(function(e){0==e.data.errorCode&&(t.master.length||t.master.push(e.data.data.idlist[0]),t.members=e.data.data.idlist.splice(1))})},heartbeat:function(e){this.$ajax.post("/live/heartbeat",{roomnum:e,role:this.myRole})},getNotice:function(){var e=this;this.$ajax("/live/GetNotice").then(function(t){e.notice=t.data})}}}],created:function(){var e=this;window.onbeforeunload=function(t){e.sdk.quitRoom(function(){return alert("退出房间成功"),this.sdk.closeSpeaker(),this.sdk.logout(this.logoutSuccess,this.logoutError)}.bind(e),function(e){console.log(e),alert("退出房间失败",e)})},window.onunload=function(){}},mounted:function(){this.$nextTick(function(){this.sdkInit()})},methods:c()({},Object(l.b)(["changeUserSig","changeToken","changeSdk","changeVideoRender","changeMsg","changeMemberVideo","changeVideoRenderShare"]),{sdkInit:function(){var e=new(0,this.ILiveSDK)(1400108533,30445,"cabid");this.changeSdk(e),this.sdk.init(this.sdkInitSuccess,this.sdkInitError)},dxnLogin:function(){var e=this;this.$ajax.post("/live/Login").then(function(t){if(0==t.data.errorCode){e.getRoomCode(),e.changeUserSig(t.data.data.userSig),e.changeToken(t.data.data.token),window.sessionStorage.setItem("loginName",t.data.data.loginName),e.getNotice(),e.loginCode=t.data.data.Code;var i=e.ILiveRender;e.changeVideoRender(new i("render0")),e.sdk.setForceOfflineListener(function(){}),e.sdk.setRoomDisconnectListener(function(){}),e.sdk.setRoomEventListener(e.roomEvent),e.sdk.setDeviceOperationCallback(function(){}),e.sdk.setMessageListener(e.listenerMsg)}})},initMessage:function(e,t){var i=this.ILiveMessageElem;this.changeMsg(new i(e,t));var n=[];return n.push(this.msg),new(0,this.ILiveMessage)(n)},sdkInitSuccess:function(e){console.log("初始化成功"),this.dxnLogin()},sdkInitError:function(e){console.log("初始化失败",e)},joinSuccess:function(e){console.log("加入房间成功"),this.openSpeaker();var t=this.initMessage(this.E_iLiveMessageElemType.CUSTOM,this.E_IM_CustomCmd.AVIMCMD_EnterLive);this.sdk.sendGroupMessage(t,function(){},this.enterMsgError)},joinError:function(e){console.log("加入失败",e)},roomEvent:function(e){if(5==e.eventid)this.videoRender.isFreeRender()&&(this.videoRender.setIdentifer(e.identifier),this.videoRender.setRenderMode(1));else if(7===e.eventid){this.showShareVideo=!0;var t=this.ILiveRender;this.changeVideoRenderShare(new t("renderShare")),this.renderShare.setAuxRoadVideo(!0)}else 8===e.eventid&&(this.showShareVideo=!1)},openSpeaker:function(){var e=this,t=this.sdk.getSpeakerList();0===t.code&&t.devices.forEach(function(t){console.log("打开扬声器"),e.sdk.openSpeaker(t.id)})},loginSuccess:function(e){console.log("登陆成功"),this.sdk.joinRoom(this.roomCode,this.E_iLiveAuthBits.AuthBit_Guest,"Guest",this.joinSuccess,this.joinError)},loginError:function(e){console.log("登陆失败",e)},logoutSuccess:function(e){console.log(this.sdk),this.sdk.unInit()},logoutError:function(e){},listenerMsg:function(e){var t=this;this.roomMembers[e.sender]?this.applyMsgContent(e,this.roomMembers[e.sender]):this.GetUserInfo(e.sender,function(i){t.applyMsgContent(e,i)})},applyMsgContent:function(e,t){var i=this,n="";e.elems.forEach(function(e){if(0==e.type&&(i.messages.push({type:e.type,content:e.content,name:t}),i.autoShowBottom()),1===e.type)switch(e.content){case"1":n="加入了直播间",i.messages.push({type:e.type,content:n,name:t}),i.autoShowBottom();break;case"2":n="退出了直播间",i.messages.push({type:e.type,content:n,name:t}),i.autoShowBottom();break;case"2049":i.agreeOrOpposition();break;case"2055":case"2056":i.GetRoomMember(i.roomCode);break;case"413":i.downMicrophone()}})},agreeOrOpposition:function(){var e=this;this.$confirm("主播邀请您上麦, 是否同意?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.applyMicrophone();var t=e.initMessage(e.E_iLiveMessageElemType.CUSTOM,"2051");e.sdk.sendGroupMessage(t,e.msgSendSuccess,e.enterMsgError)}).catch(function(){var t=e.initMessage(e.E_iLiveMessageElemType.CUSTOM,"2052");e.sdk.sendGroupMessage(t,e.msgSendSuccess,e.enterMsgError)})},applyMembersVideo:function(e){var t=this.memberVideo.findIndex(function(e){return 1==e.isFreeRender()});-1==t||this.showFont.includes(function(t){return t.code==e})||(this.showFont[t].code=e,this.showFont[t].isShow=!1,this.memberVideo[t].setIdentifer(e))},clearMembersVideo:function(e){var t=this.showFont.findIndex(function(t){return t.code==e});-1!=t&&(this.showFont[t].code="",this.showFont[t].isShow=!0)},enterMsg:function(e){if(!this.selfMessage.trim())return!1;var t=this.initMessage(this.E_iLiveMessageElemType.TEXT,this.selfMessage);this.sdk.sendGroupMessage(t,this.enterMsgSuccess,this.enterMsgError)},msgSendSuccess:function(e){e&&e()},enterMsgSuccess:function(e){this.messages.push({type:0,content:this.selfMessage,name:this.loginName}),this.autoShowBottom(),this.selfMessage=""},enterMsgError:function(){},applyMicrophone:function(){this.sdk.changeRole("LiveGuest",this.applyMicrophoneSuccess,this.applyMicrophoneError)},applyMicrophoneSuccess:function(){var e=this,t=this.sdk.getMicList();if(0===t.code){this.sdk.openMic(t.devices[0].id),this.myRole=2,this.heartbeat(this.roomCode);var i=this.initMessage(this.E_iLiveMessageElemType.CUSTOM,"2055");this.sdk.sendGroupMessage(i,this.msgSendSuccess,this.enterMsgError);var n=this.members.forEach(function(t){return t.code==e.loginCode});n&&(n.role=2)}else this.$message({type:"info",message:"获取麦克风失败"})},applyMicrophoneError:function(e){console.log("改变角色失败",e)},downMicrophone:function(){this.sdk.changeRole("Guest",this.closeMicSuccess,this.applyMicrophoneError)},closeMicSuccess:function(){var e=this;this.sdk.closeCamera();var t=this.initMessage(this.E_iLiveMessageElemType.CUSTOM,"2056");this.sdk.sendGroupMessage(t,this.msgSendSuccess,this.enterMsgError);var i=this.members.forEach(function(t){return t.code==e.loginCode});i&&(i.role=0),this.myRole=0,this.heartbeat(this.roomCode)},toggleSound:function(){"静 音"===this.soundModel?(this.soundModel="开 启 音 量",this.sdk.closeSpeaker()):(this.soundModel="静 音",this.openSpeaker())},tellToOne:function(e){this.openPrivateChat=!0},showFull:function(){this.toggleVideoWidth()},autoShowBottom:function(){this.$refs.chatContent.scrollTop=this.$refs.chatContent.scrollHeight},logonOut:function(){alert("退出开始"),this.sdk.quitRoom(function(){return alert("退出房间成功"),this.sdk.closeSpeaker(),this.sdk.logout(this.logoutSuccess,this.logoutError)}.bind(this),function(e){alert("退出房间失败",e)})}}),computed:c()({},Object(l.c)(["userSig","sdk","videoRender","msg","memberVideo","renderShare"]),{loginName:function(){return this.$store.state.loginName||window.sessionStorage.getItem("loginName")}})},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-body"},[i("el-container",{staticStyle:{"min-width":"1300px","max-width":"1600px","padding-bottom":"20px",margin:"0 auto"}},[i("el-header",[i("div",{staticClass:"walk-word"},[e._v("\n        直播公告: "+e._s(e.notice)+"\n      ")])]),e._v(" "),i("el-container",{staticStyle:{height:"100%"}},[i("el-aside",{staticStyle:{overflow:"hidden"},attrs:{width:"200px"}},[i("el-table",{staticClass:"member-table",staticStyle:{width:"96%",margin:"5px 0 0 2px"},attrs:{data:e.master,border:""}},[i("el-table-column",{staticStyle:{"background-color":"red"},attrs:{prop:"id",label:"当前主播",align:"center"}})],1),e._v(" "),i("div",{staticClass:"member"},[i("div",{staticClass:"member-header"},[e._v("当前听众")]),e._v(" "),i("ul",e._l(e.members,function(t,n){return i("li",{key:n},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.id,disabled:t.id.length<10,placement:"top"}},[i("div",{staticClass:"fl"},[e._v(e._s(t.id))])]),e._v(" "),i("label",{staticClass:"fr"},[2==t.role?i("i",{staticClass:"iconfont icon-xinhao",staticStyle:{"font-size":"20px",color:"green"}}):e._e(),e._v(" "),0==t.role?i("i",{staticClass:"iconfont icon-xinhao",staticStyle:{"font-size":"20px"}}):e._e()])],1)}))])],1),e._v(" "),i("el-container",{staticStyle:{width:"100px"}},[i("el-main",{ref:"videoMain",staticStyle:{height:"calc(100% - 200px)",width:"100%"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showShareVideo,expression:"!showShareVideo"}],ref:"videoContainer",staticClass:"master-video"},[i("div",{staticClass:"mask-master",on:{dblclick:e.showFull}}),e._v(" "),i("object",{attrs:{id:"render0",classid:"CLSID:1EA15A99-7F53-4B6F-8947-B57A0729918E",width:"100%",height:"100%"}}),e._v(" "),e.isShowFull?e._e():i("div",{staticClass:"show-full",attrs:{title:"进入全屏"},on:{click:e.showFull}},[i("i",{staticClass:"iconfont icon-webicon311",staticStyle:{"font-size":"20px"}})]),e._v(" "),e.isShowFull?i("div",{staticClass:"exit-full",attrs:{title:"退出全屏"},on:{click:e.showFull}},[i("i",{staticClass:"iconfont icon-tuichuquanping",staticStyle:{"font-size":"20px"}})]):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showShareVideo,expression:"showShareVideo"}],ref:"shareVideoContainer",staticClass:"master-video"},[i("div",{staticClass:"mask-master",on:{dblclick:e.showFull}}),e._v(" "),i("object",{attrs:{id:"renderShare",classid:"CLSID:1EA15A99-7F53-4B6F-8947-B57A0729918E",width:"100%",height:"100%"}}),e._v(" "),e.isShowFull?e._e():i("div",{staticClass:"show-full",attrs:{title:"进入全屏"},on:{click:e.showFull}},[i("i",{staticClass:"iconfont icon-webicon311",staticStyle:{"font-size":"20px"}})]),e._v(" "),e.isShowFull?i("div",{staticClass:"exit-full",attrs:{title:"退出全屏"},on:{click:e.showFull}},[i("i",{staticClass:"iconfont icon-tuichuquanping",staticStyle:{"font-size":"20px"}})]):e._e()])]),e._v(" "),i("el-footer",{staticStyle:{height:"200px"}},[i("div",{staticClass:"video-footer"},[i("el-row",{staticClass:"clearfix"},[i("el-col",{attrs:{span:22}},[i("div",{ref:"chatContent",staticClass:"chat-content"},e._l(e.messages,function(t,n){return e.messages.length?i("p",{key:e.index},[i("label",[e._v(e._s(0===t.type?t.name+":  ":t.name))]),e._v(" "),i("label"),e._v(" "),i("span",[e._v(e._s(t.content))])]):e._e()})),e._v(" "),i("div",{staticClass:"chat-edit"},[i("div",{staticClass:"chat-edit-container"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selfMessage,expression:"selfMessage"}],ref:"textarea",attrs:{id:"male"},domProps:{value:e.selfMessage},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.enterMsg(t)):null},input:function(t){t.target.composing||(e.selfMessage=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"chat-edit-enter",on:{click:e.enterMsg}},[e._v("\n                    发送\n                  ")])])]),e._v(" "),i("el-col",{staticClass:"cz",attrs:{span:2}},[i("h1",[e._v("操作")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small",circle:""},on:{click:e.downMicrophone}},[e._v("\n                  下 麦\n                  "),i("i",{staticClass:"iconfont icon-maikefeng-jingyin-tianchongsvg"})]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small",circle:""},on:{click:e.toggleSound}},[e._v("\n                  "+e._s(e.soundModel)+"\n                  "),i("i",{staticClass:"iconfont icon-52jingyin"})])],1)],1)],1)])],1)],1),e._v(" "),i("object",{attrs:{id:"cabid",classid:"CLSID:54E71417-216D-47A2-9224-C991A099C531",codebase:"../../../static/js/iLiveSDK.cab#version=1,7,1,0"}})],1),e._v(" "),e._m(0)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{background:"rgba(0,0,0,.8)",width:"100%",height:"100%",position:"absolute",top:"0",right:"0",left:"0",bottom:"0",margin:"auto","z-index":"9999",display:"none"},attrs:{id:"promDiv"}},[t("p",{staticStyle:{width:"40%",height:"90%",margin:"auto","margin-top":"2%"}},[t("img",{staticStyle:{height:"100%",width:"100%","margin-top":"20px","margin-bottom":"20px",margin:"0 auto"},attrs:{src:i("D3yz")}})])])}]};var u=i("VU/8")(d,h,!1,function(e){i("6Pgm"),i("VKAh")},"data-v-2b474f70",null).exports,p={name:"LiveHistory",data:function(){return{liveHistoryList:[],total:0,loading:!1,searchName:"",historyType:[],historyTypeChecked:[],programingPage:[],programPageChecked:[]}},created:function(){this.getHistoryData(1),this.getHistoryType()},methods:{pagination:function(e){this.programPageChecked.length>0?this.queryHistoryData(e,this.programPageChecked):this.getHistoryData(e)},getHistoryData:function(e){var t=this,i="/live/GetLivehistorylist?currentIndex="+e+"&pagesize=10"+(this.searchName.length>0?"&name="+encodeURI(this.searchName):"");this.loading=!0,this.$ajax.get(i).then(function(e){t.total=e.data.Total,t.liveHistoryList=e.data.List,t.loading=!1})},queryHistoryData:function(e,t){var i=this;if(0==t.length)return this.getHistoryData(1);this.loading=!0;var n={currentIndex:e,pageSize:10,selected:t};this.$ajax.post("/live/QueryHistoryType",n).then(function(e){var t=JSON.parse(e.data);i.total=t.Total,i.liveHistoryList=t.List,i.loading=!1})},searchHistory:function(){if(this.clearTagData(),!this.searchName)return this.getHistoryData(1);this.getHistoryData(1)},getHistoryType:function(){var e=this;this.$ajax.get("/live/GetLiveHistoryType").then(function(t){e.historyType=t.data,e.programingPage=t.data.LiveHistoryProgramPage})},liveTypeChange:function(e){this.programPageChecked=[],this.programingPage=this.historyType.filter(function(t){return t.Id==e})[0].pages},programPageSelectedChange:function(e){this.queryHistoryData(1,e)},clearTagData:function(){this.historyTypeChecked=[],this.programingPage=[],this.programPageChecked=[]}}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",[i("el-header",{staticStyle:{height:"100%","margin-top":"25px"}},[i("el-row",[i("el-col",{staticStyle:{float:"right"},attrs:{span:6}},[i("el-input",{staticStyle:{"margin-bottom":"0"},attrs:{size:"small",placeholder:"搜索课程"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getHistoryData(1)}},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchHistory},slot:"append"})],1)],1)],1),e._v(" "),i("el-row",[i("div",{staticStyle:{"margin-top":"20px"}},[i("el-tag",{staticStyle:{float:"left","vertical-align":"center","margin-right":"10px"},attrs:{type:"success",size:"medium"}},[e._v("产品类型\n          ")]),e._v(" "),i("el-radio-group",{attrs:{size:"mini"},on:{change:e.liveTypeChange},model:{value:e.historyTypeChecked,callback:function(t){e.historyTypeChecked=t},expression:"historyTypeChecked"}},e._l(e.historyType,function(t){return e.historyType.length?i("el-radio-button",{key:t.Id,staticStyle:{"margin-left":"5px",border:"1px solid #dcdfe6"},attrs:{label:t.Id}},[e._v(e._s(t.Name))]):e._e()}))],1)]),e._v(" "),i("el-row",[i("div",{staticStyle:{"margin-top":"10px"}},[i("el-tag",{staticStyle:{margin:"5px 0 0 0",float:"left","vertical-align":"center","margin-right":"10px"},attrs:{type:"success",size:"medium"}},[e._v("程序页面\n          ")]),e._v(" "),i("el-checkbox-group",{attrs:{size:"mini"},on:{change:e.programPageSelectedChange},model:{value:e.programPageChecked,callback:function(t){e.programPageChecked=t},expression:"programPageChecked"}},e._l(e.programingPage,function(t){return i("el-checkbox-button",{key:t.Id,staticStyle:{margin:"5px 5px 0 0","border-radius":"5px",border:"0.5px solid #dcdfe6"},attrs:{label:t.Id}},[e._v(e._s(t.Name)+"\n            ")])}))],1)]),e._v(" "),i("hr")],1),e._v(" "),i("el-main",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.liveHistoryList,border:""}},[i("el-table-column",{attrs:{type:"index",width:"70",label:"序号"}}),e._v(" "),i("el-table-column",{attrs:{prop:"Name",label:"视频名称","show-overflow-tooltip":!0}}),e._v(" "),i("el-table-column",{attrs:{prop:"LiveType",label:"产品类型",width:"350"}}),e._v(" "),i("el-table-column",{attrs:{prop:"PageName",label:"程序页面",width:"350"}}),e._v(" "),i("el-table-column",{attrs:{prop:"Url",label:"视频地址",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{attrs:{href:t.row.Url,target:"_blank"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("观看")])],1)]}}])})],1),e._v(" "),i("div",{staticClass:"page"},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":10},on:{"current-change":e.pagination}})],1)],1)],1)],1)},staticRenderFns:[]};var f=i("VU/8")(p,g,!1,function(e){i("iaDM"),i("NqJy")},"data-v-357e1cd0",null).exports,v={name:"LiveNotice",data:function(){return{liveNoticeList:[],total:0,showLiveVideo:!0}},created:function(){this.getNoticeList(1)},methods:{getNoticeList:function(e){var t=this;this.loading=!0,this.$ajax.get("/live/GetLiveNoticeList?currentIndex="+e+"&pagesize=10").then(function(e){t.liveNoticeList=e.data.List,t.total=e.data.Total,t.loading=!1})},pagination:function(e){this.getNoticeList(e)},jumpLiveVideo:function(){this.showLiveVideo=!1;window.location.href,window.screen.height,window.screen.width}},components:{liveVideo:u}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{overflow:"hidden",height:"100%"}},[e.showLiveVideo?n("div",[n("el-row",{staticStyle:{"text-align":"center",color:"#324357","margin-top":"5px",height:"4%"}},[n("h1",[e._v("在线直播培训")])]),e._v(" "),n("hr"),e._v(" "),n("el-row",{staticStyle:{height:"95%"}},[n("el-col",{attrs:{span:8}},[n("el-row",[n("div",{staticStyle:{padding:"0px 10px 10px 10px"}},[n("img",{attrs:{src:i("RjPn"),width:"100%",alt:""}})])])],1),e._v(" "),n("el-col",{staticStyle:{"padding-right":"15px"},attrs:{span:16}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.liveNoticeList}},[n("el-table-column",{attrs:{prop:"LiveTime",label:"",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[40==t.row.LiveStatus?n("span",{staticStyle:{color:"rgba(35, 183, 254, 1)"}},[n("img",{staticStyle:{"padding-right":"30px",top:"3px",position:"relative",left:"10px"},attrs:{src:i("RWDH")}}),e._v("直播中")]):n("span",[n("img",{staticStyle:{"padding-right":"30px",top:"3px",position:"relative"},attrs:{src:i("Yqpw")}}),e._v(e._s(t.row.LiveTime))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"Content",label:"直播内容","show-overflow-tooltip":!0}}),e._v(" "),n("el-table-column",{attrs:{prop:"IsEnd",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[40==t.row.LiveStatus?n("el-button",{attrs:{type:"success",round:"",size:"mini"},on:{click:e.jumpLiveVideo}},[e._v("进入直播间\n              ")]):e._e()]}}])})],1),e._v(" "),n("el-button",{on:{click:e.jumpLiveVideo}},[e._v("进入直播间")]),e._v(" "),n("div",{staticClass:"page"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":10},on:{"current-change":e.pagination}})],1)],1)],1)],1):n("div",{staticStyle:{height:"100%"}},[n("liveVideo")],1)])},staticRenderFns:[]};var A=i("VU/8")(v,m,!1,function(e){i("0P89"),i("BIoD")},"data-v-8ad38c4a",null).exports,y={data:function(){return{name:""}},methods:{loginClick:function(){this.$store.state.loginName=this.name,this.$router.push("/live-video"),window.sessionStorage.setItem("loginName",this.name)}},computed:c()({},Object(l.c)(["loginName"]))},S={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("label",[e._v("姓名")]),i("el-input",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),i("el-button",{on:{click:e.loginClick}},[e._v("登陆")])],1)},staticRenderFns:[]};i("VU/8")(y,S,!1,function(e){i("9D3S")},"data-v-5bb4b456",null).exports;n.default.use(a.a);var w=new a.a({routes:[{path:"/",redirect:"/live-notice",component:o,children:[{path:"/live-history",name:"liveHistory",component:f},{path:"/live-notice",name:"LiveNotice",component:A},{path:"/live-video",name:"video",component:u}]}]}),M=i("zL8q"),C=i.n(M);i("tvR6"),i("d+YX"),i("XlLT");n.default.use(l.a);var b=new l.a.Store({state:{userSig:"",token:"",sdk:"",videoRender:"",msg:"",memberVideo:"",loginName:"",renderShare:""},mutations:{changeUserSig:function(e,t){e.userSig=t},changeToken:function(e,t){e.token=t},changeSdk:function(e,t){e.sdk=t},changeVideoRender:function(e,t){e.videoRender=t},changeMsg:function(e,t){e.msg=t},changeMemberVideo:function(e,t){e.memberVideo=t},changeVideoRenderShare:function(e,t){e.renderShare=t}}}),k=i("mtWM"),I=i.n(k);function R(e,t,i){if(this.appid=e,this.accountType=t,this.ilive=document.getElementById(i),!this.ilive)throw new Error("iliveSDK object not found")}function L(e){this.elems=e}function x(e,t){this.type=e,this.content=t}function _(e,t){this.id=e,this.name=t}function E(e,t){this.code=e,this.devices=t}function N(e){this.render=document.getElementById(e)}R.prototype={version:function(){return this.ilive.getVersion()},detect:function(){var e=navigator.userAgent,t=e.indexOf("MSIE "),i=0;if(t>0&&(i=parseInt(e.substring(t+5,e.indexOf(".",t)),10)),e.indexOf("Trident/")>0){t=!0;var n=e.indexOf("rv:");i=parseInt(e.substring(n+3,e.indexOf(".",n)),10)||i}return(-1===t||("x86"!=window.navigator.cpuClass||8!=i&&9!=i&&10!=i)&&11!=i)&&{msie:!!t,version:i,cpuClass:window.navigator.cpuClass}},setIMSupport:function(e){this.ilive.setIMSupport(e)},setQualityParamCallback:function(e){this.ilive.setQualityParamCallback(function(t){if(e){var i=JSON.parse(t);null==i.videoEncodeParams&&(i.videoEncodeParams=new Array),null==i.videoDecodeParams&&(i.videoDecodeParams=new Array),null==i.audioDecodeParams&&(i.audioDecodeParams=new Array),e(i)}})},init:function(e,t){var i=this.detect();if(i)return t(i),void alert("浏览器版本有误，只能为32位的IE8/IE9/IE10以及32位或64位的IE11,当前版本 "+JSON.stringify(i));this.ilive.initSdk(this.appid,this.accountType,function(){e&&e()},function(e){if(t){var i=JSON.parse(e);t(i)}})},unInit:function(){this.ilive.release()},login:function(e,t,i,n){this.ilive.iLiveLogin(e,t,function(){i&&i()},function(e){if(n){var t=JSON.parse(e);n(t)}})},logout:function(e,t){this.ilive.iLiveLogout(function(){e&&e()},function(e){if(t){var i=JSON.parse(e);t(i)}})},startDeviceTest:function(e,t,i,n){void 0!==i&&void 0!==n||(i=640,n=480),this.ilive.startDeviceTest(function(){e&&e()},function(e){if(t){var i=JSON.parse(e);t(i)}},i,n)},stopDeviceTest:function(e,t){this.ilive.stopDeviceTest(function(){e&&e()},function(e){if(t){var i=JSON.parse(e);t(i)}})},createRoom:function(e,t,i,n,s,o){var a=-1;a=1==o?3:0,this.ilive.createRoom(e,t,i,function(){n&&n()},function(e){if(s){var t=JSON.parse(e);s(t)}},a)},joinRoom:function(e,t,i,n,s){this.ilive.joinRoom(e,t,i,function(){n&&n()},function(e){if(s){var t=JSON.parse(e);s(t)}})},quitRoom:function(e,t){this.ilive.quitRoom(function(){e&&e()},function(e){if(t){var i=JSON.parse(e);t(i)}})},getCameraList:function(){var e=this.ilive.getCameraList(),t=JSON.parse(e),i=[];if(0==t.code)for(var n=0;n<t.cameralist.length;++n){var s=new _(t.cameralist[n].id,t.cameralist[n].name);i.push(s)}return new E(t.code,i)},openCamera:function(e){this.ilive.openCamera(e)},closeCamera:function(){return this.ilive.closeCamera()},getWndList:function(){var e=this.ilive.getWndList(),t=JSON.parse(e),i=[];if(0==t.code)for(var n=0;n<t.wndlist.length;++n){var s=new _(t.wndlist[n].id,t.wndlist[n].title);i.push(s)}return new E(t.code,i)},openScreenShareWnd:function(e){this.ilive.openScreenShareWnd(e)},openScreenShareArea:function(e,t,i,n){this.ilive.openScreenShareArea(e,t,i,n)},changeScreenShareSize:function(e,t,i,n){return this.ilive.changeScreenShareSize(e,t,i,n)},closeScreenShare:function(){this.ilive.closeScreenShare()},getMicList:function(){var e=this.ilive.getMicList(),t=JSON.parse(e),i=[];if(0==t.code)for(var n=0;n<t.miclist.length;++n){var s=new _(t.miclist[n].id,t.miclist[n].name);i.push(s)}return new E(t.code,i)},openMic:function(e){this.ilive.openMic(e)},closeMic:function(){this.ilive.closeMic()},getSpeakerList:function(){var e=this.ilive.getPlayerList(),t=JSON.parse(e),i=[];if(0==t.code)for(var n=0;n<t.playerlist.length;++n){var s=new _(t.playerlist[n].id,t.playerlist[n].name);i.push(s)}return new E(t.code,i)},openSpeaker:function(e){this.ilive.openPlayer(e)},closeSpeaker:function(){this.ilive.closePlayer()},sendGroupMessage:function(e,t,i){if(e instanceof L){if(0==e.elems.length)return;for(var n={},s=[],o=0;o<e.elems.length;++o){var a={};a.type=e.elems[o].type,a.content=e.elems[o].content,s.push(a)}n.elems=s,this.ilive.sendGroupMessage(JSON.stringify(n),function(){t&&t()},function(e){if(i){var t=JSON.parse(e);i(t)}})}},sendC2CMessage:function(e,t,i,n){if(t instanceof L){if(0==t.elems.length)return;var s={},o=[];s.to=e;for(var a=0;a<t.elems.length;++a){var r={};r.type=t.elems[a].type,r.content=t.elems[a].content,o.push(r)}s.elems=o,this.ilive.sendC2CMessage(JSON.stringify(s),function(){i&&i()},function(e){if(n){var t=JSON.parse(e);n(t)}})}},setMessageListener:function(e){e&&this.ilive.setMessageCallBack(function(t){for(var i=JSON.parse(t),n=[],s=0;s<i.elements.length;++s){var o=new x(i.elements[s].type,i.elements[s].content);n.push(o)}var a=new L(n);a.time=i.time,a.sender=i.sender,e(a)})},setRoomDisconnectListener:function(e){this.ilive.setRoomDisconnectListener(function(t){if(e){var i=JSON.parse(t);e(i)}})},setRoomEventListener:function(e){this.ilive.setRoomEventListener(function(t,i){var n=new function(e,t){this.eventid=e,this.identifier=t}(t,i);e(n)})},setForceOfflineListener:function(e){this.ilive.setForceOfflineCallback(function(){e()})},setDeviceOperationCallback:function(e){this.ilive.setDeviceOperationCallback(function(t){var i=JSON.parse(t);e&&e(i.oper,i.code)})},setDeviceDetectCallback:function(e){this.ilive.setDeviceDetectCallback(function(){e&&e()})},startPushStream:function(e,t,i){e instanceof function(e,t,i){this.dataType=e,this.encode=t,this.fileType=i}&&this.ilive.startPushStream(JSON.stringify(e),function(e){if(t){var i=JSON.parse(e);t(i)}},function(e){if(i){var t=JSON.parse(e);i(t)}})},stopPushStream:function(e,t,i,n){this.ilive.stopPushStream(e,t,function(){i&&i()},function(e){if(n){var t=JSON.parse(e);n(t)}})},startRecord:function(e,t,i){e instanceof function(e,t){this.dataType=e,this.fileName=t}&&this.ilive.startRecord(JSON.stringify(e),function(){t&&t()},function(e){if(i){var t=JSON.parse(e);i(t)}})},stopRecord:function(e,t,i){this.ilive.stopRecord(e,function(e){if(t){var i=JSON.parse(e);t(i)}},function(e){if(i){var t=JSON.parse(e);i(t)}})},startLocalRecord:function(e,t,i){this.ilive.startLocalRecord(e,function(e){var n=JSON.parse(e);0==n.result?t&&t(n.duration,n.width,n.height,n.filePath):i&&i(n.result,n.errInf)})},stopLocalRecord:function(){this.ilive.stopLocalRecord()},setBeauty:function(e){this.ilive.setBeauty(e)},setWhite:function(e){this.ilive.setWhite(e)},setSharpen:function(e){this.ilive.setSharpen(e)},changeRole:function(e,t,i){this.ilive.changeRole(e,function(){t&&t()},function(e){if(i){var t=JSON.parse(msg);i(t)}})}},N.prototype={setIdentifer:function(e){this.render.setIdentifer(e)},getIdentifer:function(){return this.render.getIdentifer()},isFreeRender:function(){return this.render.isFreeRender()},snapShot:function(){return this.render.snapShot()},setAuxRoadVideo:function(e){return this.render.setAuxRoadVideo(e)},getAuxRoadVideo:function(e){return this.render.getAuxRoadVideo()},setRenderMode:function(e){this.render.setRenderMode(e)}};n.default.prototype.ILiveSDK=R,n.default.prototype.ILiveRender=N,n.default.prototype.ILiveMessageElem=x,n.default.prototype.ILiveMessage=L,n.default.prototype.E_iLiveAuthBits={AuthBit_LiveMaster:4294967295,AuthBit_LiveGuest:4294967294,AuthBit_Guest:170},n.default.prototype.E_iLiveMessageElemType={TEXT:0,CUSTOM:1},n.default.use(C.a),n.default.config.productionTip=!1,n.default.prototype.$ajax=I.a,new n.default({el:"#app",router:w,store:b,components:{App:o},template:"<App/>"})},NqJy:function(e,t){},RWDH:function(e,t){e.exports="data:image/gif;base64,R0lGODlhGAAYAIABACO4/wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZCMzVBNUY5OTQ2RTExRTc4MEY2QkI3MDVCQTJEQ0UwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZCMzVBNUZBOTQ2RTExRTc4MEY2QkI3MDVCQTJEQ0UwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkIzNUE1Rjc5NDZFMTFFNzgwRjZCQjcwNUJBMkRDRTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkIzNUE1Rjg5NDZFMTFFNzgwRjZCQjcwNUJBMkRDRTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQFAAABACwAAAAAGAAYAAACK4yPqcvtD6OctNqLs958gX98wCSGoFQaabS2Z+CO6hubMkzndz3vegcMYgoAIfkEBQAAAQAsAAAAAAEAAQAAAgJMAQAh+QQFAAABACwHAA4AAwACAAACAoRfACH5BAkAAAEALAEADAAVAAQAAAIKjI+pCr0Po2xAFQAh+QQJAAABACwAAAAAGAAYAAACJIyPqcvtD6OctNqLs7ag5w58ngEeJTkGp5qubguH20zX9o0/BQAh+QQJAAABACwAAAAAGAAYAAACMoyPqcvtD6OctNqLMwX8cDB9XieJhhmhKKSSQQueLjzG74zbtKzn9c8D3npEjfGIRBQAACH5BAkAAAEALAAAAAAYABgAAAIzjI+py+0Po5y0WgfyzODwrRmfNAYlVJ5PGkZsR7YqJtewaXu5uOP3q/v1gDzh7YJMKiMFACH5BAUAAAEALAAAAAAYABgAAAI0jI+py+0Po5wRWJoswEhPb4DVFZLjVqLnIUJi+7yma8KOrNIqztb+/usBh8JiyshJKpecAgAh+QQJAAABACwHAAgAAwABAAACAowLACH5BAkAAAEALAAAAAAYABgAAAIWjI+py+0Po5y02ouz3rz7D4biSJZTAQAh+QQJAAABACwAAAAAGAAYAAACMoyPqcvtD6OctFoH8jUZ7NB9oTSCGnmaHrqqU1lCcBonc3sfOUf3uK8D8n6tj/GITBQAACH5BAkAAAEALAAAAAAYABgAAAIyjI+py+0Po5y02juBxkED7oGbFBpldJ5QOnatwn5mGx/1LLv5rdv0vwP6gjmO8YhMFAAAIfkECQAAAQAsAAAAABgAGAAAAi2Mj6nL7Q+jnLTai7PeAfjsAeBnhJNZkp2KrmL6ukdLs3Zc4/e8w7wO5AiHmwIAIfkECQAAAQAsAAAAABgAGAAAAi6Mj6nL7Q+jnLTai7PefIE/fcAhkiBTGmmwtif7uqMa1zN8y2Zu7z7NC3aGREwBACH5BAkAAAEALAAAAAAYABgAAAIvjI+py+0Po5y02ouz3nyBf3zAJIYgUxppsCrre7IxPKrzXcs5be54D7TlOsRipQAAIfkEBQAAAQAsAAAAABgAGAAAAiuMj6nL7Q+jnLTai7PefIF/fMAkhqBUGmm0tmfgjuobmzJM53c973oHDGIKADs="},RjPn:function(e,t,i){e.exports=i.p+"static/img/wlkc.025772c.jpg"},VKAh:function(e,t){},XlLT:function(e,t){},Yqpw:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACAElEQVRIicWVv2tTURTHM3TskCGDQsUMRTp0cHHrH9AhY/4AhyzdOnbIcEHofedzbriKFYcKGRyKRIjYwbGLUOygg2NHxw4dAkZweC7nycvNi3kJQg9ceO/cc77ne36912jctYQQWkBPVV8CY2Bszz3g3trAMcYmMAR+AzmQq+q1ql4X76Y7CyG0VgIHOsAPA1egE2NsJsH3AQ9MgRsR6dYFV2P3DXi8zD6EsANcms9pHeY58No5t1GLUaPRcM5tWDb5wkxUdRf4rKofY4z364IXEmNsquo7EfkaQnhSxb5oaGVZjEDPJmq3ysbKNVXVUXrRKhpaxcyC58kZOuc2U3sRcUDuvd8us++ZU6cis5MK8OKcpPZZlu1ZLw7LIM+BX8fHx48qyrIIvNiDmXKFEB6q6mRmolR1pKpXFewPlgUADir8roBxWfEe+J8BvgAfyhm8AH7ONGbNEg0GgwciMhGRN+WIRZP3Uzaq+mqdJgNHf5UismVKnzqsOqZAf25MjekZMA0h7KROpXL9c9G8920RmQDnc5e2bDfA5SrfoYT9BXArIluVBiLStfSfrQpebDDwdBmLUzO88N63lwF779vGPAfe1mXTtZ/IBOhnWbZXbqhzbtOmpW82t0uZpxJCaKnqKJmc73bKuvOFNa8j3vttETm0Uf1kZwgczY3iXcgfpYUobr1inKgAAAAASUVORK5CYII="},"d+YX":function(e,t){},iaDM:function(e,t){},tvR6:function(e,t){},y3VO:function(e,t){}},["NHnr"]);